"use strict";(self.webpackChunkcmta_reviewer=self.webpackChunkcmta_reviewer||[]).push([[216],{7981:(e,o,t)=>{t.r(o),t.d(o,{default:()=>l});var i=t(6540),n=t(839),r=t(6347),s=t(4848);function l(){const[e,o]=(0,i.useState)(null),[l,a]=(0,i.useState)(null),[d,c]=(0,i.useState)(!1),x=(0,r.zy)(),p=()=>{const e=new URLSearchParams(x.search).get("redirect");if(e)return decodeURIComponent(e);if("undefined"!=typeof window){const e=sessionStorage.getItem("loginRedirect");if(e)return sessionStorage.removeItem("loginRedirect"),e}return"/cmta-reviewer/"};(0,i.useEffect)(()=>{"undefined"!=typeof window&&(async()=>{const{getAuth:e,GoogleAuthProvider:i,signInWithPopup:n,onAuthStateChanged:r}=await Promise.resolve().then(t.bind(t,3962)),s=e((await Promise.resolve().then(t.bind(t,6614))).default);r(s,e=>{a(e),e&&!l&&setTimeout(()=>{const e=p();window.location.href=e},3e3)}),o({auth:s,GoogleAuthProvider:i,signInWithPopup:n})})()},[]);return e?(0,s.jsx)(n.A,{title:"Login",description:"Access your account",children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",padding:"2rem"},children:[(0,s.jsx)("div",{style:{alignSelf:"flex-start",marginBottom:"20px",maxWidth:"400px",width:"100%"},children:(0,s.jsxs)("button",{onClick:()=>{"undefined"!=typeof window&&(window.history.length>1?window.history.back():window.location.href="/")},style:{display:"flex",alignItems:"center",padding:"8px 12px",border:"1px solid #dadce0",borderRadius:"4px",backgroundColor:"transparent",color:"#5f6368",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},children:[(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",style:{marginRight:"8px"},children:(0,s.jsx)("path",{fill:"currentColor",d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),"Back"]})}),(0,s.jsxs)("div",{style:{maxWidth:"400px",width:"100%",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff",textAlign:"center"},children:[(0,s.jsx)("h1",{style:{fontSize:"28px",fontWeight:"400",color:"#202124",marginBottom:"8px"},children:l?"Welcome!":"Sign in"}),(0,s.jsx)("p",{style:{fontSize:"16px",color:"#5f6368",marginBottom:"32px"},children:l?"You're successfully signed in":"Continue to your account"}),l?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"24px",padding:"16px",backgroundColor:"#e8f5e8",borderRadius:"8px",border:"1px solid #34a853"},children:[(0,s.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",style:{marginRight:"12px",color:"#34a853"},children:(0,s.jsx)("path",{fill:"currentColor",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:"500",color:"#137333",marginBottom:"4px"},children:"Login Successful!"}),(0,s.jsx)("div",{style:{fontSize:"14px",color:"#137333"},children:"Redirecting you back..."})]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"24px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[l.photoURL&&(0,s.jsx)("img",{src:l.photoURL,alt:"Profile",style:{width:"40px",height:"40px",borderRadius:"50%",marginRight:"12px"}}),(0,s.jsxs)("div",{style:{textAlign:"left"},children:[(0,s.jsx)("div",{style:{fontWeight:"500",color:"#202124"},children:l.displayName||"User"}),(0,s.jsx)("div",{style:{fontSize:"14px",color:"#5f6368"},children:l.email})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,s.jsx)("button",{onClick:()=>{const e=p();window.location.href=e},style:{flex:1,padding:"12px 24px",border:"none",borderRadius:"4px",backgroundColor:"#1a73e8",color:"#fff",fontSize:"14px",fontWeight:"500",fontFamily:"Google Sans, Roboto, arial, sans-serif",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#1557b0"},onMouseLeave:e=>{e.target.style.backgroundColor="#1a73e8"},children:"Continue"}),(0,s.jsx)("button",{onClick:async()=>{e&&await e.auth.signOut()},style:{flex:1,padding:"12px 24px",border:"1px solid #dadce0",borderRadius:"4px",backgroundColor:"#fff",color:"#d93025",fontSize:"14px",fontWeight:"500",fontFamily:"Google Sans, Roboto, arial, sans-serif",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#fce8e6"},onMouseLeave:e=>{e.target.style.backgroundColor="#fff"},children:"Sign out"})]})]}):(0,s.jsxs)("button",{onClick:async()=>{if(e){c(!0);try{const o=new e.GoogleAuthProvider;await e.signInWithPopup(e.auth,o)}catch(o){console.error("Login failed:",o),c(!1)}}},disabled:d,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"12px 16px",border:"1px solid #dadce0",borderRadius:"4px",backgroundColor:d?"#f8f9fa":"#fff",color:"#3c4043",fontSize:"14px",fontWeight:"500",fontFamily:"Google Sans, Roboto, arial, sans-serif",cursor:d?"not-allowed":"pointer",transition:"all 0.2s ease",textDecoration:"none",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.1)",opacity:d?.7:1},onMouseEnter:e=>{d||(e.target.style.backgroundColor="#f8f9fa",e.target.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.2)")},onMouseLeave:e=>{d||(e.target.style.backgroundColor="#fff",e.target.style.boxShadow="0 1px 1px rgba(0, 0, 0, 0.1)")},children:[d?(0,s.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #e3e3e3",borderTop:"2px solid #4285f4",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"12px"}}):(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",style:{marginRight:"12px"},children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d?"Signing in...":"Continue with Google"]})]}),(0,s.jsx)("style",{jsx:!0,children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]})}):(0,s.jsx)(n.A,{title:"Login",children:(0,s.jsx)("div",{style:{textAlign:"center",padding:"2rem"},children:(0,s.jsxs)("div",{style:{display:"inline-block",padding:"20px",borderRadius:"8px",backgroundColor:"#f8f9fa"},children:[(0,s.jsx)("div",{style:{width:"20px",height:"20px",border:"2px solid #e3e3e3",borderTop:"2px solid #4285f4",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 10px"}}),(0,s.jsx)("p",{style:{margin:0,color:"#666"},children:"Loading login system..."})]})})})}}}]);