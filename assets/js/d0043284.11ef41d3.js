"use strict";(self.webpackChunkcmta_reviewer=self.webpackChunkcmta_reviewer||[]).push([[172],{2874:(e,t,i)=>{i.d(t,{A:()=>l,j:()=>c});var a=i(223),r=i(3962),n=i(8185);const s=(0,a.Wp)({apiKey:"AIzaSyDNBLz4IADIfAR1CQZzGQrJCgywQfP5RwU",authDomain:"cmta-reviewer.firebaseapp.com",projectId:"cmta-reviewer",storageBucket:"cmta-reviewer.firebasestorage.app",messagingSenderId:"11861010695",appId:"1:11861010695:web:2e81f2dfea02032f24bda2",measurementId:"G-4R1MXKFJ8P"}),c=(0,r.xI)(s),l=((0,n.aU)(s),s)},8050:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var a=i(6540),r=i(8481),n=i(6347),s=i(3962),c=i(9993),l=i(8185),o=i(2874),p=i(4848);function d(){const[e,t]=(0,a.useState)(null),[i,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[f,y]=(0,a.useState)("premium"),w=(0,s.xI)(o.A),x=(0,c.c7)(o.A),b=(0,l.aU)(o.A),j=(0,n.zy)();(0,a.useEffect)(()=>{const e=new URLSearchParams(j.search);y(e.get("tier")||"premium")},[j]),(0,a.useEffect)(()=>{const e=(0,s.hg)(w,e=>t(e));return()=>e()},[w]);const v={premium:{label:"Premium",price:"\u20b1499 / month"},pro:{label:"Pro",price:"\u20b11,499 / month"}};return(0,p.jsx)(r.A,{title:"Payment",description:"Complete your subscription",children:(0,p.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,p.jsxs)("h1",{children:["Upgrade to ",v[f].label]}),(0,p.jsx)("p",{style:{fontSize:"18px",marginBottom:"1rem"},children:v[f].price}),e?(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:"Pay via GCash"}),(0,p.jsx)("img",{src:"/img/gcash-qr.png",alt:"GCash QR",style:{width:"200px",margin:"0 auto",borderRadius:"10px"}}),(0,p.jsx)("p",{children:"Scan the QR, then upload your payment screenshot below."}),(0,p.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i&&e)try{m(!0);const t=(0,c.KR)(x,`receipts/${e.uid}-${f}-${Date.now()}`);await(0,c.D)(t,i);const a=await(0,c.qk)(t);g(a),await(0,l.gS)((0,l.rJ)(b,"payments"),{email:e.email,uid:e.uid,tier:f,receiptUrl:a,createdAt:(0,l.O5)()}),m(!1),alert("\u2705 Receipt uploaded! We will verify your payment.")}catch(a){console.error(a),m(!1),alert("\u274c Upload failed.")}},children:[(0,p.jsx)("input",{type:"file",accept:"image/*",onChange:e=>d(e.target.files[0]),required:!0}),(0,p.jsx)("button",{type:"submit",disabled:u,style:{marginTop:"10px"},children:u?"Uploading...":"Upload Receipt"})]}),h&&(0,p.jsx)("p",{style:{color:"green"},children:"\u2705 Receipt uploaded! Pending admin verification."})]}):(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:"\ud83d\udd12 Please log in with Google to continue"}),(0,p.jsx)("button",{onClick:async()=>{const e=new s.HF;await(0,s.df)(w,e)},children:"Login with Google"})]})]})})}}}]);